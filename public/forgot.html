<!doctype html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Forgot Password â€” GraceWise</title><link rel="stylesheet" href="/theme.css"><script src="/core.js"></script></head><body><div class="header"><div style="display:flex;gap:12px;align-items:center"><div class="logo">GW</div><div><div style="font-weight:700;font-size:18px">GraceWise</div><div class="small">Password recovery</div></div></div></div><div class="container"><div class="panel"><h3>Forgot Password</h3><label>Email<input id="fpEmail" placeholder="your-email@example.com"></label><div style="display:flex;gap:10px;margin-top:10px"><button id="sendCode">Send Reset Code</button></div><hr><label>Reset Code<input id="fpCode"></label><label>New Password<input id="fpNewPass" type="password"></label><div style="display:flex;gap:10px;margin-top:10px"><button id="resetPass">Reset Password</button></div><div id="fpMsg" class="small" style="margin-top:10px"></div></div></div><script>document.getElementById('sendCode').addEventListener('click', async ()=>{ const email = document.getElementById('fpEmail').value.trim(); if(!email) return alert('Enter email'); const r = await forgotPassword(email); if(r.ok){ document.getElementById('fpMsg').textContent = 'Code sent: ' + (r.code || '[no code]'); alert('Reset code: ' + (r.code || '[no code]')); } else document.getElementById('fpMsg').textContent = 'Error: ' + (r.error || 'Unknown'); }); document.getElementById('resetPass').addEventListener('click', async ()=>{ const email = document.getElementById('fpEmail').value.trim(); const code = document.getElementById('fpCode').value.trim(); const np = document.getElementById('fpNewPass').value; if(!email || !code || !np) return alert('Fill fields'); const r = await resetPassword(email, code, np); if(r.ok){ alert('Password reset successful'); location.href='/login'; } else alert('Reset failed: ' + (r.error||'Unknown')); });</script></body></html>